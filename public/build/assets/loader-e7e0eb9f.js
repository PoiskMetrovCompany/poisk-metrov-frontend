import{o as E,i as M,a as v,b as S,c as w,d as N,e as x}from"./colors-10675ae3.js";async function L(){await ymaps3.ready;const{YMap:i,YMapDefaultSchemeLayer:o,YMapDefaultFeaturesLayer:d,YMapMarker:u}=ymaps3,c=new i(document.getElementById("map"),{location:{center:buildingCoordinates,zoom}});c.addChild(new o),c.addChild(new d);const f=infrastructure,y={"%D1%81%D1%82%D0%B0%D0%BD%D1%86%D0%B8%D0%B8+%D0%BC%D0%B5%D1%82%D1%80%D0%BE":"content-metro",school:"content-book",kindergarten:"content-children",park:"content-tree",shop:"content-shop",sport:"content-dumbbell",health:"content-hospital"},h={"content-metro":M,"content-book":v,"content-children":S,"content-tree":w,"content-shop":N,"content-dumbbell":N,"content-hospital":x};if(g(c,buildingCoordinates),f!=null)for(const[s,a]of Object.entries(f))a.forEach(t=>{const e=t.geometry.coordinates;B(c,e,y[s])});function g(s,a){const t=document.createElement("div");t.className="infrastructure menu icon-container icon d44x44";const e=document.createElement("img");previewLink.includes("http")?e.src=previewLink.slice(1):e.src=previewLink,e.className="icon orange d32x32",e.style.borderRadius="50%",t.appendChild(e),t.style.borderColor=E,t.style.borderStyle="solid",t.style.borderWidth="2px";const r=new u({coordinates:a},t);s.addChild(r)}function B(s,a,t){const e=document.createElement("div");e.className="infrastructure menu icon-container icon d44x44",e.style.backgroundColor=E;const r=document.createElement("div");r.className="icon "+t+" d24x24",e.appendChild(r),e.style.backgroundColor=h[t],e.style.borderColor=e.style.backgroundColor,e.style.borderStyle="solid",e.style.borderWidth="2px",e.style.display="none";const p=new u({coordinates:a},e);s.addChild(p)}document.getElementsByClassName("ymaps3x0--map-copyrights_right")[0].style.right="50px"}function b(i){if(!i)return;const o=Array.from(i.getElementsByClassName("item")),d=i.getElementsByClassName("location menu select-all")[0],u=o[0],c=o[1],f=o[2],y=o[3],h=o[4],g=o[5],B=o[6],s=document.getElementById("map"),a=[u,c,f,y,h,g,B];a.forEach(n=>n.addEventListener("click",()=>r(n))),d.addEventListener("click",()=>{const n=!e();a.forEach(l=>p(l,n))});let t=[];function e(){return t.length==a.length}function r(n){const l=t.includes(n.id);p(n,!l)}function p(n,l){if(n===void 0)return;const D="infrastructure menu item",m=n.getElementsByClassName("icon-container")[0].getElementsByClassName("icon")[0],C=n.querySelector(".check"),I=m.className.split(" ")[1];Array.from(s.getElementsByClassName(I)).forEach(k=>{k.parentNode.style.display=l?"flex":"none"}),n.className=D,l?(t.includes(n.id)||t.push(n.id),n.className+=" orange",m.className=m.className.replace("black","orange"),C.style.visibility="visible"):(t=t.filter(k=>k!=n.id),m.className=m.className.replace("orange","black"),C.style.visibility="hidden"),d.className="location menu select-all",e()&&(d.className+=" selected")}}document.addEventListener("DOMContentLoaded",()=>{b(document.getElementById("location-menu")),b(document.getElementById("infrastructure-menu")),L()});
