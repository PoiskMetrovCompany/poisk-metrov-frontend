var c=Object.defineProperty;var d=(n,t,e)=>t in n?c(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var s=(n,t,e)=>(d(n,typeof t!="symbol"?t+"":t,e),e);function u(n,t){const e=Number.parseInt(getComputedStyle(n).gap);let i=[],o=0;return t.forEach(l=>{o+=l.clientWidth+e,n.scrollLeft>o-e&&!i.includes(l)&&i.push(l)}),i}class m{constructor(t,e,i,o="orange",l=!1){s(this,"scrolledElementID");s(this,"galleryElement");s(this,"galleryItemsAsHTMLCollection");s(this,"buttonBack");s(this,"buttonForward");s(this,"onElementChange");s(this,"noDisable",!1);s(this,"isScrollOnClick",!0);s(this,"isButtonIcon",!1);s(this,"activeClass","orange");this.galleryElement=document.getElementById(t);const r=document.getElementById(e);r!=null&&(this.noDisable=l,this.activeClass=o,this.buttonBack=r.children.item(0),this.buttonForward=r.children.item(1),this.galleryItemsAsHTMLCollection=[...this.galleryElement.children],this.galleryItemsAsHTMLCollection=this.galleryItemsAsHTMLCollection.filter(h=>{const a=getComputedStyle(h);return!(a.display=="none"||a.position=="absolute"||a.position=="fixed")}),this.galleryItemsAsHTMLCollection.length==0&&(this.buttonBack.style.display="none",this.buttonForward.style.display="none"),this.scrolledElementID=this.getGalleryHiddenItems().length,this.onElementChange=i,this.onElementChange!=null&&this.onElementChange(this.scrolledElementID,!0),this.updateButtons(),this.galleryElement.addEventListener("scroll",()=>{this.updateButtons()}),this.buttonBack.addEventListener("click",()=>{this.isButtonEnabled(this.buttonBack)&&this.scrollBackward()}),this.buttonForward.addEventListener("click",()=>{this.isButtonEnabled(this.buttonForward)&&this.scrollForward()}),this.galleryItemsAsHTMLCollection.forEach((h,a)=>{h.addEventListener("click",()=>{this.isScrollOnClick&&this.scrollGalleryTo(a)})}))}isButtonEnabled(t){return t.getAttribute("enabled")=="true"}getGalleryHiddenItems(){return u(this.galleryElement,this.galleryItemsAsHTMLCollection)}updateButtons(){this.scrolledElementID=this.getGalleryHiddenItems().length;const t=this.galleryItemsAsHTMLCollection[this.scrolledElementID];t&&(this.setButtonActivity(this.buttonBack,this.galleryElement.scrollLeft<=t.clientWidth),this.setButtonActivity(this.buttonForward,this.galleryElement.scrollLeft+this.galleryElement.clientWidth+t.clientWidth/2>=this.galleryElement.scrollWidth))}setButtonActivity(t,e){const i=e?this.activeClass:"disabled",o=e?"disabled":this.activeClass,l=this.isButtonIcon?t:t.querySelector(".icon");l.className=l.className.replace(i,o),t.setAttribute("enabled",!e),!this.isButtonEnabled(this.buttonBack)&&!this.isButtonEnabled(this.buttonForward)&&!this.noDisable?(this.buttonBack.style.display="none",this.buttonForward.style.display="none"):(this.buttonBack.style.display="flex",this.buttonForward.style.display="flex")}scrollGalleryTo(t){if(t<0||this.scrolledElementID==t)return;this.scrolledElementID=t;const e=Number.parseInt(getComputedStyle(this.galleryElement).gap);let i=0,o=0;this.galleryItemsAsHTMLCollection.forEach((l,r)=>{r<this.scrolledElementID&&l.offsetWidth>0&&(i+=l.offsetWidth+e)}),this.onElementChange!=null&&this.onElementChange(this.scrolledElementID),this.galleryElement.scrollTo({left:i,top:o,behavior:"smooth"})}scrollGallery(t=0){this.scrollGalleryTo(Math.min(this.scrolledElementID+t,this.galleryItemsAsHTMLCollection.length-1))}scrollForward(){this.scrollGallery(1)}scrollBackward(){this.scrollGallery(-1)}}export{m as G};
