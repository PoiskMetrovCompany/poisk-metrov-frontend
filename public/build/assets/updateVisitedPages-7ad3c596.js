import{a as E}from"./axios-1779699b.js";import{g as w,s as x}from"./cookies-2118fce7.js";function k(i,a=!1,c=!1){const l=document.getElementById("background-"+i.id),s=document.getElementById("previews_"+i.id).value.split(",").slice(0,a?1e3:5),r=i.getElementsByClassName("card-area-container")[0],f=new ResizeObserver(()=>p());let u={x:0,y:0},n=0;f.observe(r.parentElement),p();function p(){r.style.position="absolute";const e=window.getComputedStyle(r.parentElement),t=e.padding;r.style.width=e.width,r.style.height=e.height,r.style.transform=`translate(-${t},-${t})`}l.addEventListener("touchstart",m,!1),l.addEventListener("touchend",y,!1);function m(e){u.x=e.changedTouches[0].pageX,u.y=e.changedTouches[0].pageY}function y(e){let t={};t.x=u.x-e.changedTouches[0].pageX,t.y=u.y-e.changedTouches[0].pageY;const d=Number.parseInt(r.style.width)/3;return t.x>d&&(n++,n=Math.min(Math.max(n,0),s.length-1),g(n)),t.x<-d&&(n--,n=Math.min(Math.max(n,0),s.length-1),g(n)),t}let o=[],h=[];if(s.length>0){for(let e=0;e<s.length;e++){const t=document.getElementById("indicator_"+i.id+"_"+e);t&&o.push(t);const d=document.getElementById("area_"+i.id+"_"+e);d&&(h.push(d),c?h[e].addEventListener("click",()=>g(e)):h[e].addEventListener("mouseover",()=>g(e)))}o[0]&&(o[0].className+=" active"),!o[1]&&o[0]&&(o[0].style.display="none")}function g(e){s.length>1&&(s[e].startsWith("http")?l.style.backgroundImage="url("+s[e]+")":l.style.backgroundImage="url(/"+s[e]+")",v(e))}function v(e){o.forEach(t=>t.className="slider-indicator"),o[e].className+=" active",n=e}}function T(i){if(pageType==null)return;let a=w(i);a==null?a=[]:a=a.split(",");const c=window.location.pathname.split("/"),l=pageType,s=c[c.length-1];a.includes(s)||a.push(s),a=a.join(","),x(i,a,365),isUserAuthorized&&E.post("/api/update-pages-visited",{page:l,code:s})}export{k as c,T as u};
