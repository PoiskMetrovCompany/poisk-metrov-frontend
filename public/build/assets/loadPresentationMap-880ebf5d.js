document.addEventListener("DOMContentLoaded",async()=>{await b()});async function b(){const o=document.querySelectorAll(".map");await ymaps3.ready,o.forEach(e=>{let a=e.getAttribute("previewlink");const n=e.getAttribute("infrastructure");n!=""&&JSON.parse(n);const t=Number.parseFloat(e.getAttribute("longitude")),r=Number.parseFloat(e.getAttribute("latitude")),i=Number.parseFloat(e.getAttribute("zoom")),d=[t,r],{YMap:c,YMapDefaultSchemeLayer:l,YMapDefaultFeaturesLayer:u,YMapMarker:m}=ymaps3,s=new c(e,{location:{center:d,zoom:i}});s.addChild(new l),s.addChild(new u),a&&a!="data:image/png;base64,"&&g(s,d,a,m)})}function g(o,e,a,n){const t=document.createElement("div");t.className="infrastructure menu icon-container icon d44x44";const r=document.createElement("img");a.includes("http")?r.src=a.slice(1):r.src=a,r.className="icon orange d32x32",r.style.borderRadius="50%",t.appendChild(r),t.style.borderColor="#EC7D3F",t.style.borderStyle="solid",t.style.borderWidth="2px";const i=new n({coordinates:e},t);o.addChild(i)}
