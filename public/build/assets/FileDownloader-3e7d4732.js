var s=Object.defineProperty;var l=(a,t,e)=>t in a?s(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e;var i=(a,t,e)=>(l(a,typeof t!="symbol"?t+"":t,e),e);import{a as r}from"./axios-1779699b.js";function d(a,t){fetch(a,{method:"get"}).then(e=>e.blob()).then(e=>{const n=document.createElement("a");n.setAttribute("download",t);const o=URL.createObjectURL(e);n.href=o,n.setAttribute("target","_blank"),n.click(),URL.revokeObjectURL(o)})}class b{constructor(){i(this,"isLoading",!1);i(this,"intervalRate",400)}async downloadFile(t,e){if(this.isLoading)return;const n=setInterval(()=>{this.onInterval()},this.intervalRate);this.onStartDownload(),this.isLoading=!0;const o=await r.get(t,{responseType:"blob"});this.isLoading=!1,this.onFinishDownload(),clearInterval(n),d(URL.createObjectURL(new Blob([o.data])),e)}onInterval(){}onStartDownload(){}onFinishDownload(){}}export{b as F,d};
